"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),a=e(t),r=e(require("lodash.clonedeep")),n=e(require("lodash.set")),l=e(require("lodash.result")),u=require("react-use-pointer-drag"),c=require("react-color"),i=e(require("tinycolor2")),s=t.createContext(void 0);function o(e,a,r){var n=t.useContext(s);return[t.useMemo((function(){var t;return null!=(t=null==n?void 0:n.getValue(e))?t:a}),[n,e,a]),t.useCallback((function(t){e&&n&&n.setValue(e,t),null==r||r(e,t)}),[e,n,r])]}var m=function(e){var t=e.label,r=e.children;return a.createElement("div",{className:"react-var-ui-label "+(t?"react-var-ui-label-has-label ":"react-var-ui-label-no-label ")+(e.disabled?"react-var-ui-disabled ":"")+(e.className||"")},!!t&&a.createElement("span",null,t),r)},v=2*Math.PI;function d(e){return(v+e%v)%v}function f(e,t,a,r,n){isFinite(e)||(e=null!=t?t:0);var l,u=2;return"number"==typeof r&&((u=(null==(l=r.toString().split(".")[1])?void 0:l.length)||0)>20&&(u=20),e=Math.round(e/r)*r),"number"==typeof t&&(e=Math.max(t,e)),"number"==typeof a&&(e=Math.min(a,e)),n?Math.round(e):parseFloat(e.toFixed(u))}var p=function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},b=function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}))};function g(e,t,a,r){var n=[0,0];if(!e||!Array.isArray(e)||e.length<2)return n;for(var l=0;l<r.length;l++){var u,c=(null==(u=r[l].toString().split(".")[1])?void 0:u.length)||0;n[l]=Math.round(e[l]/r[l])*r[l],n[l]=Math.max(t[l],n[l]),n[l]=Math.min(a[l],n[l]),n[l]=parseFloat(n[l].toFixed(c))}return n}var E=function(){return a.createElement("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{opacity:"0.4",d:"M16.256 11V16.232H11V17.864H16.256V23.12H17.888V17.864H23.12V16.232H17.888V11H16.256Z",fill:"#8D92A2"}),a.createElement("path",{d:"M6 0.5H28C31.0376 0.5 33.5 2.96243 33.5 6V28C33.5 31.0376 31.0376 33.5 28 33.5H6C2.96243 33.5 0.5 31.0376 0.5 28V6C0.5 2.96243 2.96243 0.5 6 0.5Z",stroke:"#515151"}))},C=function(){return a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{opacity:"0.4"},a.createElement("path",{d:"M14.5851 6.48999V15.51H5.56006V6.48999H14.5851ZM15.5851 4.48999H4.56006C4.29484 4.48999 4.04049 4.59535 3.85295 4.78288C3.66542 4.97042 3.56006 5.22477 3.56006 5.48999V16.51C3.56006 16.6413 3.58592 16.7714 3.63618 16.8927C3.68643 17.014 3.76009 17.1242 3.85295 17.2171C3.94581 17.31 4.05605 17.3836 4.17737 17.4339C4.2987 17.4841 4.42874 17.51 4.56006 17.51H15.5851C15.7164 17.51 15.8464 17.4841 15.9677 17.4339C16.0891 17.3836 16.1993 17.31 16.2922 17.2171C16.385 17.1242 16.4587 17.014 16.5089 16.8927C16.5592 16.7714 16.5851 16.6413 16.5851 16.51V5.48999C16.5851 5.22477 16.4797 4.97042 16.2922 4.78288C16.1046 4.59535 15.8503 4.48999 15.5851 4.48999V4.48999Z",fill:"#F5F8FF"}),a.createElement("path",{d:"M17.4899 4.50496H2.51494C2.24641 4.50496 1.98888 4.61163 1.799 4.80151C1.60912 4.99139 1.50244 5.24893 1.50244 5.51746C1.50244 5.78599 1.60912 6.04352 1.799 6.23341C1.98888 6.42329 2.24641 6.52996 2.51494 6.52996H17.4899C17.7585 6.52996 18.016 6.42329 18.2059 6.23341C18.3958 6.04352 18.5024 5.78599 18.5024 5.51746C18.5024 5.24893 18.3958 4.99139 18.2059 4.80151C18.016 4.61163 17.7585 4.50496 17.4899 4.50496V4.50496ZM12.5149 1.52496H7.58494C7.33518 1.54274 7.10144 1.65451 6.93079 1.83774C6.76013 2.02098 6.66525 2.26207 6.66525 2.51246C6.66525 2.76285 6.76013 3.00395 6.93079 3.18718C7.10144 3.37041 7.33518 3.48218 7.58494 3.49996H12.5099C12.6455 3.50961 12.7817 3.49124 12.9098 3.44599C13.038 3.40074 13.1555 3.32957 13.255 3.23693C13.3544 3.14429 13.4338 3.03215 13.488 2.90751C13.5423 2.78287 13.5703 2.64839 13.5703 2.51246C13.5703 2.37653 13.5423 2.24205 13.488 2.11741C13.4338 1.99277 13.3544 1.88064 13.255 1.78799C13.1555 1.69535 13.038 1.62419 12.9098 1.57893C12.7817 1.53368 12.6455 1.51531 12.5099 1.52496H12.5149Z",fill:"#F5F8FF"}),a.createElement("path",{d:"M8.56006 13.5C8.29525 13.4987 8.04166 13.3929 7.8544 13.2057C7.66715 13.0184 7.56137 12.7648 7.56006 12.5V9.5C7.56137 9.23519 7.66715 8.9816 7.8544 8.79435C8.04166 8.60709 8.29525 8.50131 8.56006 8.5C8.82487 8.50131 9.07846 8.60709 9.26571 8.79435C9.45297 8.9816 9.55874 9.23519 9.56006 9.5V12.5C9.55874 12.7648 9.45297 13.0184 9.26571 13.2057C9.07846 13.3929 8.82487 13.4987 8.56006 13.5V13.5ZM11.5601 13.5C11.2952 13.4987 11.0417 13.3929 10.8544 13.2057C10.6672 13.0184 10.5614 12.7648 10.5601 12.5V9.5C10.5614 9.23519 10.6672 8.9816 10.8544 8.79435C11.0417 8.60709 11.2952 8.50131 11.5601 8.5C11.8249 8.50131 12.0785 8.60709 12.2657 8.79435C12.453 8.9816 12.5587 9.23519 12.5601 9.5V12.5C12.5587 12.7648 12.453 13.0184 12.2657 13.2057C12.0785 13.3929 11.8249 13.4987 11.5601 13.5V13.5Z",fill:"#F5F8FF"})))},h=function(){return a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"0.5",y:"0.5",width:"21",height:"21",rx:"3.5",stroke:"#515151"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5455 10.4545V5H9.90909V10.4545H5V12.0909H9.90909V17H11.5455V12.0909H17V10.4545H11.5455Z",fill:"#515151"}))};exports.VarAdd=function(e){var r=e.label,n=e.didClick,l=e.disabled,u=e.className,c=e.children,i=t.useState(!1),s=i[0],o=i[1],v=t.useCallback((function(e){o(!1)}),[s,o]);t.useEffect((function(){return s?window.addEventListener("click",v):window.removeEventListener("click",v),function(){return window.removeEventListener("click",v)}}),[s]);var d=t.useCallback((function(){o((function(e){return!e}))}),[o]);return a.createElement(m,{label:r,disabled:l,className:u},a.createElement("div",{className:"react-var-ui-add"},a.createElement("div",{className:"react-var-ui-add-wrapper"},a.createElement("div",{onClick:function(){d(),null==n||n()}},a.createElement(h,null)),s?a.createElement("div",{className:"react-var-ui-add-popover"},c):null)))},exports.VarAngle=function(e){var r=e.label,n=e.path,l=e.value,c=e.onChange,i=e.disabled,s=e.defaultValue,v=void 0===s?0:s,f=e.className,p=t.useRef(null),b=o(n,l,c),g=b[0],E=b[1],C=t.useMemo((function(){return Math.round(d(g)*(180/Math.PI))}),[g]),h=t.useCallback((function(e,t){if(p.current){var a=p.current.getBoundingClientRect();E(d(Math.atan2(t-(a.top+a.height/2),e-(a.left+a.width/2))+Math.PI/2))}}),[E]),N=u.usePointerDragSimple(h).events;return t.useEffect((function(){var e;null==(e=p.current)||e.addEventListener("wheel",(function(e){return e.preventDefault()}))}),[]),a.createElement(m,{label:r,disabled:i,className:f},a.createElement("span",{className:"react-var-ui-angle-value"},C,"Â°"),a.createElement("div",{className:"react-var-ui-angle"},a.createElement("div",Object.assign({className:"react-var-ui-angle-control",ref:p,style:{transform:"rotate("+C+"deg)"},onDoubleClick:function(){return void 0!==v&&E(v)},onWheel:function(e){E(d(g+.5*(e.deltaY<0?-1:1)))},title:"Angle"},N))))},exports.VarBase=m,exports.VarButton=function(e){var t=e.onClick,r=e.disabled;return a.createElement(m,{label:e.label,disabled:r,className:e.className},a.createElement("span",{className:"react-var-ui-button"},a.createElement("button",{onClick:function(){return null==t?void 0:t()},disabled:r},e.buttonLabel)))},exports.VarCategory=function(e){var t=e.children;return a.createElement("div",{className:"react-var-ui-category "+(e.className||"")},a.createElement("div",{className:"react-var-ui-category-title "+(e.showDash?"react-var-ui-category-title-dash":"")},e.label),!!t&&a.createElement("div",null,t))},exports.VarColor=function(e){var r=e.label,n=e.alpha,l=e.disabled,u=e.className,s=o(e.path,e.value,e.onChange),v=s[0],d=s[1],f=t.useState(!1),p=f[0],b=f[1],g=t.useCallback((function(e){var t,a=null==(t=e.target)?void 0:t.closest(".sketch-picker");0!=document.getElementsByClassName("sketch-picker").length&&p&&null==a&&b(!1)}),[p,b]);t.useEffect((function(){return p?window.addEventListener("click",g):window.removeEventListener("click",g),function(){return window.removeEventListener("click",g)}}),[p]);var E=t.useCallback((function(){b((function(e){return!e}))}),[b]);return a.createElement(m,{label:r,disabled:l,className:u},a.createElement("span",null,a.createElement("span",{className:"react-var-ui-color-value"},n?i(v).toHex8String():i(v).toHexString()),a.createElement("div",{className:"react-var-ui-color"},a.createElement("div",{className:"react-var-ui-color-swatch",onClick:E},a.createElement("div",{className:"react-var-ui-color-color",title:"Color preview",style:v?{background:"rgb("+v.r+","+v.g+","+v.b+","+(null!=v.a?v.a:1)+")"}:{}})),p?a.createElement("div",{className:"react-var-ui-color-popover"},a.createElement(c.SketchPicker,{color:v,onChange:function(e){console.log(e.rgb),d(e.rgb)},disableAlpha:!n})):null)))},exports.VarDisplay=function(e){var t=e.label,r=e.disabled,n=e.className,l=o(e.path,e.value);return a.createElement(m,{label:t,disabled:r,className:n},a.createElement("span",null,l[0]))},exports.VarGroup=function(e){var t=e.children,r=e.onDelete;return a.createElement("div",null,a.createElement(m,{label:e.label,disabled:e.disabled,className:e.className},a.createElement("div",{className:"react-var-ui-group-wrapper"},a.createElement("div",{className:"react-var-ui-group-wrapper-icon"},a.createElement("div",{onClick:function(){null==r||r()}},a.createElement(C,null))))),!!t&&a.createElement("div",{className:"react-var-ui-group"},t))},exports.VarGroupItem=function(e){return a.createElement("div",{className:"react-var-ui-group-item"},e.children)},exports.VarImage=function(e){var r=e.label,n=e.disabled,l=e.className,u=o(e.path,e.value,e.onChange),c=u[0],i=u[1],s=t.useRef(null),v=t.useCallback((function(){i({src:null}),s&&s.current&&(s.current.value="")}),[i,s]),d=t.useCallback((function(e){var t,a,r=null==e?void 0:e.target.files;if(r&&r.length){var n=r[0],l=URL.createObjectURL(n),u=null==(t=n.name.split("."))||null==(a=t.pop())?void 0:a.toLowerCase();i({src:l,type:n.type,extension:u})}}),[i]);return a.createElement(m,{label:r,disabled:n,className:l},a.createElement("div",{className:"react-var-ui-image"},a.createElement("div",{className:"react-var-ui-image-wrapper",style:null==c||null==c.src?{border:"none"}:{}},null==c||null==c.src?a.createElement(E,null):a.createElement("img",{className:"react-var-ui-image-wrapper-preview",src:c.src instanceof HTMLImageElement?c.src.src:c.src,alt:"preview"}),a.createElement("input",{ref:s,type:"file",id:"",onChange:d})),null==c||null==c.src?null:a.createElement("div",{className:"react-var-ui-image-delete",onClick:v},a.createElement(C,null))))},exports.VarNumber=function(e){var r=e.label,n=e.path,l=e.value,u=e.onChange,c=e.min,i=e.max,s=e.step,v=void 0===s?1:s,d=e.integer,g=e.showButtons,E=e.disabled,C=e.className,h=t.useRef(null),N=o(n,l,u),k=N[0],w=N[1],x=t.useState(0),V=x[0],y=x[1],M=t.useRef(!0);t.useEffect((function(){var e;return null==(e=h.current)||e.addEventListener("blur",L),function(){var e;return null==(e=h.current)?void 0:e.removeEventListener("blur",L)}}),[k]),t.useEffect((function(){if(h.current&&M.current){var e=f(k,c,i,v,!!d).toString();h.current.value=e}}),[k,V]);var S=t.useCallback((function(e){M.current=!1,w(f(parseFloat(e.target.value),c,i,v,!!d))}),[w]),L=t.useCallback((function(e){M.current=!0,w(f(parseFloat(e.target.value),c,i,v,!!d)),y(parseFloat(e.target.value))}),[w,y]),F=t.useCallback((function(){M.current=!0,w(f(k+(null!=v?v:1),c,i,v,!!d)),y(k+(null!=v?v:1))}),[k,w,d,c,i,v]),H=t.useCallback((function(){M.current=!0,w(f(k-(null!=v?v:1),c,i,v,!!d)),y(k-(null!=v?v:1))}),[k,w,d,c,i,v]);return a.createElement(m,{label:r,disabled:E,className:C},a.createElement("div",{className:"react-var-ui-number"},a.createElement("input",{className:"react-var-ui-number-input",ref:h,type:"number",min:c,max:i,step:v,onChange:S}),g&&a.createElement(a.Fragment,null,a.createElement("button",{title:"Increase",onClick:F},a.createElement(b,null)),a.createElement("button",{title:"Decrease",onClick:H},a.createElement(p,null)))))},exports.VarSelect=function(e){var r=e.label,n=e.options,l=e.disabled,u=e.className,c=o(e.path,e.value,e.onChange),i=c[0],s=c[1],v=t.useMemo((function(){return JSON.stringify(i)}),[i]);return a.createElement(m,{label:r,disabled:l,className:u},a.createElement("div",{className:"react-var-ui-select"},a.createElement("select",{onChange:function(e){return s(JSON.parse(e.target.value))},value:v,title:"Select options"},n.map((function(e){var t,r=JSON.stringify(null!=(t=e.value)?t:e.key);return a.createElement("option",{key:e.key,value:r},e.label)})))))},exports.VarSlider=function(e){var r=e.label,n=e.path,l=e.value,c=e.onChange,i=e.min,s=e.max,v=e.step,d=e.integer,g=e.defaultValue,E=e.showInput,C=e.showButtons,h=e.disabled,N=e.className,k=t.useRef(null),w=t.useRef(null),x=o(n,l,c),V=x[0],y=x[1],M=t.useState(0),S=M[0],L=M[1],F=t.useRef(!0);t.useEffect((function(){var e;return null==(e=w.current)||e.addEventListener("blur",R),function(){var e;return null==(e=w.current)?void 0:e.removeEventListener("blur",R)}}),[V]),t.useEffect((function(){if(w.current&&F.current){var e=f(V,i,s,v,!!d).toString();w.current.value=e}}),[V,S]);var H=t.useCallback((function(e){F.current=!1,y(f(parseFloat(e.target.value),i,s,v,!!d))}),[y]),R=t.useCallback((function(e){F.current=!0;var t=parseFloat(e.target.value);y(f(t,i,s,v,!!d)),L(t)}),[y,L]),B=t.useMemo((function(){return f(V,i,s,v,!!d)}),[V,i,s,v,d]),D=t.useMemo((function(){return(B-i)/(s-i)*100}),[B,i,s]),I=t.useCallback((function(e){if(k.current){var t=k.current.getBoundingClientRect(),a=f(i+(e-t.left)/t.width*(s-i),i,s,v,!!d);F.current=!0,y(a),L(a)}}),[y,L,d,i,s,v]),O=t.useCallback((function(){var e=V+(null!=v?v:1);F.current=!0,y(f(e,i,s,v,!!d))}),[V,y,d,i,s,v]),Z=t.useCallback((function(){var e=V-(null!=v?v:1);F.current=!0,y(f(e,i,s,v,!!d))}),[V,y,d,i,s,v]),P=u.usePointerDragSimple(I);return a.createElement(m,{label:r,disabled:h,className:N},a.createElement("div",{className:"react-var-ui-slider"},a.createElement("div",Object.assign({className:"react-var-ui-slider-track",ref:k,onClick:function(e){return I(e.clientX)},onDoubleClick:function(){return void 0!==g&&y(g)},title:"Slider"},P.events),a.createElement("div",{className:"react-var-ui-slider-content",style:{width:D+"%"}})),E?a.createElement("input",{className:"react-var-ui-slider-input",type:"number",ref:w,min:i,max:s,step:v,onChange:H}):a.createElement("span",null,B.toString()),C&&a.createElement(a.Fragment,null,a.createElement("button",{title:"Increase",onClick:O},a.createElement(b,null)),a.createElement("button",{title:"Decrease",onClick:Z},a.createElement(p,null)))))},exports.VarString=function(e){var r=e.label,n=e.maxLength,l=e.multiline,u=e.autoexpand,c=e.disabled,i=e.className,s=o(e.path,e.value,e.onChange),v=s[0],d=s[1],f=t.useMemo((function(){return u?{overflow:"hidden",resize:"none"}:void 0}),[u]);return a.createElement(m,{label:r,disabled:c,className:i},l?a.createElement("textarea",{className:"react-var-ui-string-multiline",value:v,onChange:function(e){return d(e.target.value)},onInput:u?function(e){var t=e.currentTarget;t.style.height="0",t.style.height=t.scrollHeight+"px"}:void 0,style:f}):a.createElement("span",{className:"react-var-ui-string"},a.createElement("input",{type:"text",maxLength:n,value:v,onChange:function(e){return d(e.target.value)}})))},exports.VarToggle=function(e){var t=e.label,r=e.disabled,n=e.className,l=o(e.path,e.value,e.onChange),u=l[1];return a.createElement(m,{label:t,disabled:r,className:n},a.createElement("span",null,a.createElement("label",{className:"react-var-ui-toggle",title:"Toggle"},a.createElement("input",{type:"checkbox",checked:l[0]||!1,onChange:function(e){return u(e.target.checked)}}),a.createElement("span",{className:"react-var-ui-toggle-helper"}))))},exports.VarUI=function(e){var u=e.values,c=e.updateValues,i=e.className,o=e.children,m=t.useCallback((function(e){return e?l(u,e):void 0}),[u]),v=t.useCallback((function(e,t){c(n(r(u),e,t))}),[u,c]),d=t.useMemo((function(){return{values:u,getValue:m,setValue:v}}),[u,m,v]);return a.createElement(s.Provider,{value:d},a.createElement("div",{className:"react-var-ui "+(i||"")},o))},exports.VarVector2=function(e){var r=e.label,n=e.path,l=e.value,u=e.onChange,c=e.min,i=e.max,s=e.step,v=void 0===s?[1,1]:s,d=e.integer,p=e.disabled,b=e.className,g=t.useRef(null),E=t.useRef(null),C=t.useState([0,0]),h=C[0],N=C[1],k=o(n,l,u),w=k[0],x=k[1],V=t.useRef(w),y=t.useRef(!0),M=t.useCallback((function(e,t){var a=[].concat(w);a[t]=f(parseFloat(e.target.value),c?c[t]:c,i?i[t]:i,v[t],!!d),y.current=!1,V.current=a,x(a)}),[x,w,V]),S=t.useCallback((function(e,t){var a=JSON.parse(JSON.stringify(V.current));a[t]=f(parseFloat(e.target.value),c?c[t]:c,i?i[t]:i,v[t],!!d),y.current=!0,V.current=a,x(a),N(a)}),[x,N,w]),L=t.useCallback((function(e){S(e,0)}),[S]),F=t.useCallback((function(e){S(e,1)}),[S]);t.useEffect((function(){var e,t;return null==(e=g.current)||e.addEventListener("blur",L),null==(t=E.current)||t.addEventListener("blur",F),function(){var e,t;null==(e=g.current)||e.removeEventListener("blur",L),null==(t=E.current)||t.removeEventListener("blur",F)}}),[w]),t.useEffect((function(){y.current&&(g.current&&(g.current.value=H.toString()),E.current&&(E.current.value=R.toString()))}),[w,h]);var H=t.useMemo((function(){return f(w[0],c?c[0]:c,i?i[0]:i,v[0],!!d)}),[w,c,i,v,d]),R=t.useMemo((function(){return f(w[1],c?c[1]:c,i?i[1]:i,v[1],!!d)}),[w,c,i,v,d]);return a.createElement(m,{label:r,disabled:p,className:b},a.createElement("div",{className:"react-var-ui-vector"},a.createElement("div",{className:"react-var-ui-vector-wrapper"},a.createElement("span",null,"X"),a.createElement("input",{className:"react-var-ui-vector-input",type:"number",ref:g,min:c?c[0]:c,max:i?i[0]:i,step:v[0],onChange:function(e){return M(e,0)}})),a.createElement("div",{className:"react-var-ui-vector-wrapper"},a.createElement("span",null,"Y"),a.createElement("input",{className:"react-var-ui-vector-input",type:"number",ref:E,min:c?c[1]:c,max:i?i[1]:i,step:v[1],onChange:function(e){return M(e,1)}}))))},exports.VarVector3=function(e){var r=e.label,n=e.path,l=e.value,u=e.onChange,c=e.min,i=e.max,s=e.step,v=void 0===s?[1,1,1]:s,d=e.integer,p=e.disabled,b=e.className,g=t.useRef(null),E=t.useRef(null),C=t.useRef(null),h=t.useState([0,0,0]),N=h[0],k=h[1],w=o(n,l,u),x=w[0],V=w[1],y=t.useRef(x),M=t.useRef(!0),S=t.useCallback((function(e,t){M.current=!1;var a=[].concat(x);a[t]=f(parseFloat(e.target.value),c?c[t]:c,i?i[t]:i,v[t],!!d),y.current=a,V(a)}),[V,x,y]),L=t.useCallback((function(e,t){var a=JSON.parse(JSON.stringify(y.current));a[t]=f(parseFloat(e.target.value),c?c[t]:c,i?i[t]:i,v[t],!!d),M.current=!0,y.current=a,V(a),k(a)}),[V,k,x]),F=t.useCallback((function(e){L(e,0)}),[L]),H=t.useCallback((function(e){L(e,1)}),[L]),R=t.useCallback((function(e){L(e,2)}),[L]);t.useEffect((function(){var e,t,a;return null==(e=g.current)||e.addEventListener("blur",F),null==(t=E.current)||t.addEventListener("blur",H),null==(a=C.current)||a.addEventListener("blur",R),function(){var e,t,a;null==(e=g.current)||e.removeEventListener("blur",F),null==(t=E.current)||t.removeEventListener("blur",H),null==(a=C.current)||a.removeEventListener("blur",R)}}),[x]),t.useEffect((function(){M.current&&(g.current&&(g.current.value=B.toString()),E.current&&(E.current.value=D.toString()),C.current&&(C.current.value=I.toString()))}),[x,N]);var B=t.useMemo((function(){return f(x[0],c?c[0]:c,i?i[0]:i,v[0],!!d)}),[x,c,i,v,d]),D=t.useMemo((function(){return f(x[1],c?c[1]:c,i?i[1]:i,v[1],!!d)}),[x,c,i,v,d]),I=t.useMemo((function(){return f(x[2],c?c[2]:c,i?i[2]:i,v[2],!!d)}),[x,c,i,v,d]);return a.createElement(m,{label:r,disabled:p,className:b},a.createElement("div",{className:"react-var-ui-vector"},a.createElement("div",{className:"react-var-ui-vector-wrapper"},a.createElement("span",null,"X"),a.createElement("input",{className:"react-var-ui-vector-input",type:"number",ref:g,min:c?c[0]:c,max:i?i[0]:i,step:v[0],onChange:function(e){return S(e,0)}})),a.createElement("div",{className:"react-var-ui-vector-wrapper"},a.createElement("span",null,"Y"),a.createElement("input",{className:"react-var-ui-vector-input",type:"number",ref:E,min:c?c[1]:c,max:i?i[1]:i,step:v[1],onChange:function(e){return S(e,1)}})),a.createElement("div",{className:"react-var-ui-vector-wrapper"},a.createElement("span",null,"Z"),a.createElement("input",{className:"react-var-ui-vector-input",type:"number",ref:C,min:c?c[2]:c,max:i?i[2]:i,step:v[2],onChange:function(e){return S(e,2)}}))))},exports.VarXY=function(e){var r=e.label,n=e.path,l=e.value,c=e.onChange,i=e.disabled,s=e.className,v=e.defaultValue,d=void 0===v?[0,0]:v,f=e.min,p=void 0===f?[-1,-1]:f,b=e.max,E=void 0===b?[1,1]:b,C=e.step,h=void 0===C?[.01,.01]:C,N=t.useRef(null),k=o(n,l,c),w=k[0],x=k[1],V=t.useMemo((function(){return g(w,p,E,h)}),[w,p,E,h]),y=t.useMemo((function(){return function(e,t,a){if(!e)return[50,50];for(var r=[0,0],n=0;n<e.length;n++)r[n]=(e[n]-t[n])/(a[n]-t[n])*100;return r}(V,p,E)}),[V,p,E]),M=t.useCallback((function(e,t){if(N.current){var a=N.current.getBoundingClientRect(),r=g([p[0]+(e-a.left)/a.width*(E[0]-p[0]),p[1]+(t-a.top)/a.height*(E[1]-p[1])],p,E,h);x(r)}}),[x,p,E,h]),S=u.usePointerDragSimple(M).events,L=t.useCallback((function(){void 0!==d&&x(d)}),[d,x]);return a.createElement(m,{label:r,disabled:i,className:s},a.createElement("span",{className:"react-var-ui-xy-value"},V[0],", ",V[1]),a.createElement("div",{className:"react-var-ui-xy"},a.createElement("div",Object.assign({className:"react-var-ui-xy-space",ref:N,onClick:function(e){return M(e.clientX,e.clientY)},onDoubleClick:L},S),a.createElement("div",{className:"react-var-ui-xy-control",style:{top:y[1]+"%",left:y[0]+"%"}}))))},exports.useVarUIValue=o;
//# sourceMappingURL=react-var-ui.cjs.production.min.js.map
