{"version":3,"file":"react-var-ui.esm.js","sources":["../src/common/VarUIContext.ts","../src/VarUI.tsx","../src/VarBase.tsx","../src/VarAngle.tsx","../src/VarButton.tsx","../src/VarColor.tsx","../src/VarDisplay.tsx","../src/common/roundValue.ts","../src/icons/IconDown.tsx","../src/icons/IconUp.tsx","../src/VarNumber.tsx","../src/VarSelect.tsx","../src/VarSlider.tsx","../src/VarString.tsx","../src/VarToggle.tsx","../src/VarXY.tsx","../src/icons/IconImageSelect.tsx","../src/icons/IconDelete.tsx","../src/VarImage.tsx","../src/VarVector2.tsx","../src/VarVector3.tsx","../src/icons/IconAdd.tsx","../src/VarAdd.tsx","../src/VarGroup.tsx","../src/VarToggleGroup.tsx","../src/VarGroupItem.tsx","../src/VarCategory.tsx"],"sourcesContent":["import { createContext, useContext, useMemo, useCallback } from 'react';\n\nexport type VarUIObject = any;\n\nexport interface IVarUIContext {\n  values: VarUIObject;\n  getValue: (path?: string) => any;\n  setValue: (path: string, value: any) => void;\n}\n\nexport const VarUIContext = createContext<IVarUIContext | undefined>(undefined);\n\n/**\n * Simple function used for custom input components.\n * @param path\n * @param fallbackValue\n * @param onChange\n * @returns [value: T, setValue: (value: T) => void]\n */\nexport function useVarUIValue<T>(\n  path?: string,\n  fallbackValue?: T,\n  onChange?: (path: string | undefined, value: T) => void\n): [T, (value: T) => void] {\n  const context = useContext(VarUIContext);\n  const value = useMemo(() => context?.getValue(path) ?? fallbackValue, [\n    context,\n    path,\n    fallbackValue\n  ]);\n  const setValue = useCallback(\n    (value: T) => {\n      if (path && context) {\n        context.setValue(path, value);\n      }\n      onChange?.(path, value);\n    },\n    [path, context, onChange]\n  );\n\n  return [value, setValue];\n}\n","import React, { FC, ReactNode, useMemo, useCallback } from 'react';\nimport cloneDeep from 'lodash.clonedeep';\nimport set from 'lodash.set';\nimport result from 'lodash.result';\n\nimport { VarUIObject, VarUIContext } from './common/VarUIContext';\n\nexport interface IVarUIProps {\n  /**\n   * A JavaScript object or array to be mutated by the input components.\n   */\n  values: VarUIObject;\n\n  /**\n   * The function to be called whenever an update is available.\n   */\n  updateValues: (values: VarUIObject) => void;\n\n  /**\n   * Additional class names for the wrapper object.\n   */\n  className?: string;\n\n  /**\n   * Input components (or any other children).\n   */\n  children?: ReactNode;\n}\n\n/**\n * This is the main component which provides a Context for other components.\n * It is not required to use this component - other components accept\n * `onChange` and `value` properties which provide a similar functionality.\n */\nexport const VarUI: FC<IVarUIProps> = ({\n  values,\n  updateValues,\n  className,\n  children\n}) => {\n  const getValue = useCallback(\n    (path?: string) => (path ? result(values, path) : undefined),\n    [values]\n  );\n\n  const setValue = useCallback(\n    (path: string, value: any) => {\n      updateValues(set(cloneDeep(values), path, value));\n    },\n    [values, updateValues]\n  );\n\n  const contextValue = useMemo(() => ({ values, getValue, setValue }), [\n    values,\n    getValue,\n    setValue\n  ]);\n\n  return (\n    <VarUIContext.Provider value={contextValue}>\n      <div className={'react-var-ui ' + (className ? className : '')}>\n        {children}\n      </div>\n    </VarUIContext.Provider>\n  );\n};\n","import React, { FC, ReactChild, ReactNode } from 'react';\n\nexport interface IVarBaseProps {\n  /**\n   * Label to be shown left to the input.\n   */\n  label?: ReactChild;\n\n  /**\n   * Additional class names on the wrapping div element.\n   */\n  className?: string;\n\n  /**\n   * Should the component be disabled.\n   */\n  disabled?: boolean;\n\n  /**\n   * Children. Only rendered when provided directly to the VarBase component.\n   */\n  children?: ReactNode;\n}\n\nexport interface IVarBaseInputProps<T> extends IVarBaseProps {\n  /**\n   * Variable path in the data object.\n   */\n  path?: string;\n\n  /**\n   * Current value (only used if context and path aren't available).\n   * In most cases you aren't going to need this.\n   */\n  value?: T;\n\n  /**\n   * Default value for components that support resetting (on double click for example).\n   */\n  defaultValue?: T;\n\n  /**\n   * On change event, called with the new value if provided.\n   * In most cases you aren't going to need this.\n   */\n  onChange?: (path: string | undefined, value: T) => void;\n}\n\n/**\n * Base VarUI input component. Doesn't do anything besides displaying the label.\n * Used to construct other components from.\n */\nexport const VarBase: FC<IVarBaseProps> = ({\n  label,\n  children,\n  className,\n  disabled,\n}) => {\n  return (\n    <div\n      className={\n        'react-var-ui-label ' +\n        (label\n          ? 'react-var-ui-label-has-label '\n          : 'react-var-ui-label-no-label ') +\n        (disabled ? 'react-var-ui-disabled ' : '') +\n        (className ? className : '')\n      }\n    >\n      {!!label && <span>{label}</span>}\n      {children}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useEffect, useMemo, useRef } from 'react';\nimport { usePointerDragSimple } from 'react-use-pointer-drag';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nconst PI2 = Math.PI * 2;\n\nfunction wrap(angle: number) {\n  return (PI2 + (angle % PI2)) % PI2;\n}\n\nexport interface IVarAngleProps extends IVarBaseInputProps<number> {}\n\n/**\n * Angle picker component. Accepts and provides numbers (radians).\n */\nexport const VarAngle: FC<IVarAngleProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  disabled,\n  defaultValue = 0,\n  className,\n}) => {\n  const controlRef = useRef<HTMLDivElement>(null);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const degrees = useMemo(\n    () => Math.round(wrap(currentValue) * (180 / Math.PI)),\n    [currentValue]\n  );\n\n  const updatePosition = useCallback(\n    (x: number, y: number) => {\n      if (!controlRef.current) {\n        return;\n      }\n\n      const div = controlRef.current;\n      const rect = div.getBoundingClientRect();\n      const centerX = rect.left + rect.width / 2;\n      const centerY = rect.top + rect.height / 2;\n      setCurrentValue(wrap(Math.atan2(y - centerY, x - centerX) + Math.PI / 2));\n    },\n    [setCurrentValue]\n  );\n\n  const { events } = usePointerDragSimple(updatePosition);\n\n  useEffect(() => {\n    controlRef.current?.addEventListener('wheel', e => e.preventDefault());\n  }, []);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span className=\"react-var-ui-angle-value\">{degrees}&deg;</span>\n      <div className=\"react-var-ui-angle\">\n        <div\n          className=\"react-var-ui-angle-control\"\n          ref={controlRef}\n          style={{ transform: `rotate(${degrees}deg)` }}\n          onDoubleClick={() =>\n            typeof defaultValue !== 'undefined' && setCurrentValue(defaultValue)\n          }\n          onWheel={e => {\n            setCurrentValue(wrap(currentValue + 0.5 * (e.deltaY < 0 ? -1 : 1)));\n          }}\n          title=\"Angle\"\n          {...events}\n        ></div>\n      </div>\n    </VarBase>\n  );\n};\n","import React, { FC, ReactNode } from 'react';\n\nimport { IVarBaseProps, VarBase } from './VarBase';\n\nexport interface IVarButtonProps extends IVarBaseProps {\n  /**\n   * Called when the button is clicked.\n   */\n  onClick?: () => void;\n\n  /**\n   * Text for the button.\n   */\n  buttonLabel: ReactNode;\n\n  /**\n   * Should the component be disabled.\n   */\n  disabled?: boolean;\n}\n\n/**\n * Button component. Only provides a onClick property.\n */\nexport const VarButton: FC<IVarButtonProps> = ({\n  label,\n  onClick,\n  buttonLabel,\n  disabled,\n  className\n}) => {\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span className=\"react-var-ui-button\">\n        <button onClick={() => onClick?.()} disabled={disabled}>\n          {buttonLabel}\n        </button>\n      </span>\n    </VarBase>\n  );\n};\n","import React, { FC, useCallback, useState, useEffect } from 'react';\nimport { RGBColor, SketchPicker } from 'react-color';\nimport tinycolor from 'tinycolor2';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarColorProps extends IVarBaseInputProps<RGBColor> {\n  /**\n   * Should allow picking alpha values?\n   * If true, the result hex code will contain extra two characters representing the alpha value, from 00 to FF.\n   */\n  alpha?: boolean;\n}\n\n/**\n * Color picker component. Returns and accepts values in form of hex color strings.\n */\nexport const VarColor: FC<IVarColorProps> = ({\n  label,\n  path,\n  value,\n  alpha,\n  onChange,\n  disabled,\n  className,\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n\n  const [show, setShow] = useState(false);\n\n  const handleCloseClick = useCallback(\n    (event: MouseEvent) => {\n      const popup = (event.target as Element)?.closest('.sketch-picker');\n      const has_picker =\n        document.getElementsByClassName('sketch-picker').length != 0;\n      if (has_picker && show && popup == null) {\n        setShow(false);\n      }\n    },\n    [show, setShow]\n  );\n\n  useEffect(() => {\n    if (show) {\n      window.addEventListener('click', handleCloseClick);\n    } else {\n      window.removeEventListener('click', handleCloseClick);\n    }\n    return () => window.removeEventListener('click', handleCloseClick);\n  }, [show]);\n\n  const toggle = useCallback(() => {\n    setShow(show => !show);\n  }, [setShow]);\n\n  // const close = useCallback(() => {\n  //   setShow(false);\n  // }, [setShow]);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span>\n        <span className=\"react-var-ui-color-value\">\n          {alpha ? tinycolor(currentValue).toHex8String() : tinycolor(currentValue).toHexString()}\n        </span>\n        <div className=\"react-var-ui-color\">\n          <div className=\"react-var-ui-color-swatch\" onClick={toggle}>\n            <div\n              className=\"react-var-ui-color-color\"\n              title=\"Color preview\"\n              style={\n                currentValue\n                  ? { background:\n                        'rgb(' +\n                        currentValue.r +\n                        ',' +\n                        currentValue.g +\n                        ',' +\n                        currentValue.b +\n                        ',' +\n                        (currentValue.a != undefined ? currentValue.a : 1) + \n                        ')',\n                    }\n                  : {}\n              }\n            />\n          </div>\n          {show ? (\n            <div className=\"react-var-ui-color-popover\">\n              <SketchPicker\n                color={currentValue}\n                onChange={result => {\n                  setCurrentValue(result.rgb);\n                }}\n                disableAlpha={!alpha}\n              />\n            </div>\n          ) : null}\n        </div>\n      </span>\n    </VarBase>\n  );\n};\n","import React, { FC, ReactText } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseProps, VarBase } from './VarBase';\n\nexport interface IVarDisplayProps extends IVarBaseProps {\n  /**\n   * Variable path in the data object.\n   */\n  path?: string;\n\n  /**\n   * Current value (only used if context and path aren't available).\n   * In most cases you aren't going to need this.\n   */\n  value?: ReactText;\n}\n\n/**\n * A simple component that displays a string or a numeric value.\n */\nexport const VarDisplay: FC<IVarDisplayProps> = ({\n  label,\n  path,\n  value,\n  disabled,\n  className\n}) => {\n  const [currentValue] = useVarUIValue(path, value);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span>{currentValue}</span>\n    </VarBase>\n  );\n};\n","export function roundValue(\n  value: number,\n  min?: number,\n  max?: number,\n  step?: number,\n  integer?: boolean\n): number {\n  if (!isFinite(value)) {\n    value = min ?? 0;\n  }\n\n  let decimalPlaces = 2;\n  if (typeof step === 'number') {\n    decimalPlaces = step.toString().split('.')[1]?.length || 0;\n\n    if (decimalPlaces > 20) {\n      // JavaScript limitation\n      decimalPlaces = 20;\n    }\n\n    value = Math.round(value / step) * step;\n  }\n\n  if (typeof min === 'number') {\n    value = Math.max(min, value);\n  }\n\n  if (typeof max === 'number') {\n    value = Math.min(max, value);\n  }\n\n  return integer ? Math.round(value) : parseFloat(value.toFixed(decimalPlaces));\n}\n","import React, { FC } from 'react';\n\nexport const IconDown: FC = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\"\n      />\n    </svg>\n  );\n};\n","import React, { FC } from 'react';\n\nexport const IconUp: FC = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z\"\n      />\n    </svg>\n  );\n};\n","import React, { FC, useCallback, useState, useRef, useEffect } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { roundValue } from './common/roundValue';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\nimport { IconDown } from './icons/IconDown';\nimport { IconUp } from './icons/IconUp';\n\nexport interface IVarNumberProps extends IVarBaseInputProps<number> {\n  /**\n   * Minimum value.\n   */\n  min?: number;\n\n  /**\n   * Maximum value.\n   */\n  max?: number;\n\n  /**\n   * Step.\n   */\n  step?: number;\n\n  /**\n   * Should the end result be rounded to an integer value.\n   */\n  integer?: boolean;\n\n  /**\n   * If true will display buttons that increase and decrease the value by step.\n   * Step must be set.\n   */\n  showButtons?: boolean;\n}\n\n/**\n * Integer/float number component. Accepts and provides numbers.\n */\nexport const VarNumber: FC<IVarNumberProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  min,\n  max,\n  step = 1,\n  integer,\n  showButtons,\n  disabled,\n  className,\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const [display, setDisplay] = useState(0);\n  const updateFlagRef = useRef<Boolean>(true);\n\n  useEffect(() => {\n    inputRef.current?.addEventListener('blur', handleInputBlur);\n    return () => inputRef.current?.removeEventListener('blur', handleInputBlur);\n  }, [currentValue]);\n\n  useEffect(() => {\n    if (inputRef.current && updateFlagRef.current) {\n      const value = roundValue(\n        currentValue,\n        min,\n        max,\n        step,\n        !!integer\n      ).toString();\n      inputRef.current.value = value;\n    }\n  }, [currentValue, display]);\n\n  const handleInputChange = useCallback(\n    e => {\n      updateFlagRef.current = false;\n      setCurrentValue(\n        roundValue(parseFloat(e.target.value), min, max, step, !!integer)\n      );\n    },\n    [setCurrentValue]\n  );\n\n  const handleInputBlur = useCallback(\n    e => {\n      updateFlagRef.current = true;\n      setCurrentValue(roundValue(parseFloat(e.target.value), min, max, step, !!integer));\n      setDisplay(parseFloat(e.target.value));\n    },\n    [setCurrentValue, setDisplay]\n  );\n\n  const increaseValue = useCallback(() => {\n    updateFlagRef.current = true;\n    setCurrentValue(roundValue(currentValue + (step ?? 1), min, max, step, !!integer));\n    setDisplay(currentValue + (step ?? 1));\n  }, [currentValue, setCurrentValue, integer, min, max, step]);\n\n  const decreaseValue = useCallback(() => {\n    updateFlagRef.current = true;\n    setCurrentValue(roundValue(currentValue - (step ?? 1), min, max, step, !!integer));\n    setDisplay(currentValue - (step ?? 1));\n  }, [currentValue, setCurrentValue, integer, min, max, step]);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-number\">\n        <input\n          className=\"react-var-ui-number-input\"\n          ref={inputRef}\n          type=\"number\"\n          min={min}\n          max={max}\n          step={step}\n          onChange={handleInputChange}\n        />\n        {showButtons && (\n          <>\n            <button title=\"Increase\" onClick={increaseValue}>\n              <IconUp />\n            </button>\n            <button title=\"Decrease\" onClick={decreaseValue}>\n              <IconDown />\n            </button>\n          </>\n        )}\n      </div>\n    </VarBase>\n  );\n};\n","import React, { FC, ReactText, useMemo } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarSelectOption {\n  /**\n   * Key for the option. Also used as value if `value` is not specified.\n   */\n  key: ReactText;\n\n  /**\n   * Option label.\n   */\n  label: string;\n\n  /**\n   * Option value. Key will be used if not specified.\n   * Note: Will be serialized to JSON and deserialized when selected.\n   */\n  value?: any;\n}\n\nexport interface IVarSelectProps extends IVarBaseInputProps<any> {\n  /**\n   * Options to be displayed.\n   */\n  options: IVarSelectOption[];\n}\n\n/**\n * Select component. Returns and accepts either `value` from option object or `key` when `value` is not provided.\n */\nexport const VarSelect: FC<IVarSelectProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  options,\n  disabled,\n  className,\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n\n  const serializedCurrentValue = useMemo(() => JSON.stringify(currentValue), [\n    currentValue,\n  ]);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-select\">\n        <select\n          onChange={e => setCurrentValue(JSON.parse(e.target.value))}\n          value={serializedCurrentValue}\n          title=\"Select options\"\n        >\n          {options.map(option => {\n            const serializedValue = JSON.stringify(option.value ?? option.key);\n\n            return (\n              <option key={option.key} value={serializedValue}>\n                {option.label}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n    </VarBase>\n  );\n};\n","import React, {\n  FC,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n} from 'react';\nimport { usePointerDragSimple } from 'react-use-pointer-drag';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { roundValue } from './common/roundValue';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\nimport { IconDown } from './icons/IconDown';\nimport { IconUp } from './icons/IconUp';\n\nexport interface IVarSliderProps extends IVarBaseInputProps<number> {\n  /**\n   * Minimum value.\n   */\n  min: number;\n\n  /**\n   * Maximum value.\n   */\n  max: number;\n\n  /**\n   * Step.\n   */\n  step: number;\n\n  /**\n   * Should the end result be rounded to an integer value.\n   */\n  integer?: boolean;\n\n  /**\n   * If true will display an editable input, otherwise shows a read only value.\n   */\n  showInput?: boolean;\n\n  /**\n   * If true will display buttons that increase and decrease the value by step.\n   */\n  showButtons?: boolean;\n}\n\n/**\n * Integer/float slider component. Accepts and provides numbers.\n */\nexport const VarSlider: FC<IVarSliderProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  min,\n  max,\n  step,\n  integer,\n  defaultValue,\n  showInput,\n  showButtons,\n  disabled,\n  className,\n}) => {\n  const sliderRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const [display, setDisplay] = useState(0);\n  const updateFlagRef = useRef<Boolean>(true);\n\n  useEffect(() => {\n    inputRef.current?.addEventListener('blur', handleInputBlur);\n    return () => inputRef.current?.removeEventListener('blur', handleInputBlur);\n  }, [currentValue]);\n\n  useEffect(() => {\n    if (inputRef.current && updateFlagRef.current) {\n      const value = roundValue(\n        currentValue,\n        min,\n        max,\n        step,\n        !!integer\n      ).toString();\n      inputRef.current.value = value;\n    }\n  }, [currentValue, display]);\n\n  const handleInputChange = useCallback(\n    e => {\n      updateFlagRef.current = false;\n      setCurrentValue(\n        roundValue(parseFloat(e.target.value), min, max, step, !!integer)\n      );\n    },\n    [setCurrentValue]\n  );\n\n  const handleInputBlur = useCallback(\n    e => {\n      updateFlagRef.current = true;\n      const newValue = parseFloat(e.target.value);\n      setCurrentValue(roundValue(newValue, min, max, step, !!integer));\n      setDisplay(newValue);\n    },\n    [setCurrentValue, setDisplay]\n  );\n\n  const rounded = useMemo(\n    () => roundValue(currentValue, min, max, step, !!integer),\n    [currentValue, min, max, step, integer]\n  );\n  const percent = useMemo(() => ((rounded - min) / (max - min)) * 100, [\n    rounded,\n    min,\n    max,\n  ]);\n\n  const updatePosition = useCallback(\n    (x: number) => {\n      if (!sliderRef.current) {\n        return;\n      }\n\n      const div = sliderRef.current;\n      const rect = div.getBoundingClientRect();\n      const percent = (x - rect.left) / rect.width;\n      const value = roundValue(\n        min + (max - min) * percent,\n        min,\n        max,\n        step,\n        !!integer\n      );\n      updateFlagRef.current = true;\n      setCurrentValue(value);\n      setDisplay(value);\n    },\n    [setCurrentValue, setDisplay, integer, min, max, step]\n  );\n\n  const increaseValue = useCallback(() => {\n    const newValue = currentValue + (step ?? 1);\n    updateFlagRef.current = true;\n    setCurrentValue(roundValue(newValue, min, max, step, !!integer));\n  }, [currentValue, setCurrentValue, integer, min, max, step]);\n\n  const decreaseValue = useCallback(() => {\n    const newValue = currentValue - (step ?? 1);\n    updateFlagRef.current = true;\n    setCurrentValue(roundValue(newValue, min, max, step, !!integer));\n  }, [currentValue, setCurrentValue, integer, min, max, step]);\n\n  const { events } = usePointerDragSimple(updatePosition);\n\n  // useEffect(() => {\n  //   sliderRef.current?.addEventListener('wheel', e => e.preventDefault(), { passive: false });\n  // }, []);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-slider\">\n        <div\n          className=\"react-var-ui-slider-track\"\n          ref={sliderRef}\n          onClick={e => updatePosition(e.clientX)}\n          onDoubleClick={() =>\n            typeof defaultValue !== 'undefined' && setCurrentValue(defaultValue)\n          }\n          title=\"Slider\"\n          {...events}\n        >\n          <div\n            className=\"react-var-ui-slider-content\"\n            style={{ width: percent + '%' }}\n          ></div>\n        </div>\n        {showInput ? (\n          <input\n            className=\"react-var-ui-slider-input\"\n            type=\"number\"\n            ref={inputRef}\n            min={min}\n            max={max}\n            step={step}\n            onChange={handleInputChange}\n          />\n        ) : (\n          <span>{rounded.toString()}</span>\n        )}\n        {showButtons && (\n          <>\n            <button title=\"Increase\" onClick={increaseValue}>\n              <IconUp />\n            </button>\n            <button title=\"Decrease\" onClick={decreaseValue}>\n              <IconDown />\n            </button>\n          </>\n        )}\n      </div>\n    </VarBase>\n  );\n};\n","import React, { CSSProperties, FC, useMemo } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarStringProps extends IVarBaseInputProps<string> {\n  /**\n   * Maximum length of the text.\n   */\n  maxLength?: number;\n\n  /**\n   * Should the field be a textarea?\n   */\n  multiline?: boolean;\n\n  /**\n   * Should the text field auto expand?\n   * Only works with multiline instances.\n   */\n  autoexpand?: boolean;\n}\n\n/**\n * String input component. Accepts and provides a string value.\n */\nexport const VarString: FC<IVarStringProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  maxLength,\n  multiline,\n  autoexpand,\n  disabled,\n  className,\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n\n  const autoexpandOnInput = (event: React.FormEvent<HTMLTextAreaElement>) => {\n    const textarea = event.currentTarget;\n    textarea.style.height = '0';\n    textarea.style.height = `${textarea.scrollHeight}px`;\n  };\n\n  const textareaStyle: CSSProperties | undefined = useMemo(\n    () => (autoexpand ? { overflow: 'hidden', resize: 'none' } : undefined),\n    [autoexpand]\n  );\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      {multiline ? (\n        <textarea\n          className=\"react-var-ui-string-multiline\"\n          value={currentValue}\n          onChange={e => setCurrentValue(e.target.value)}\n          onInput={autoexpand ? autoexpandOnInput : undefined}\n          style={textareaStyle}\n        />\n      ) : (\n        <span className=\"react-var-ui-string\">\n          <input\n            type=\"text\"\n            maxLength={maxLength}\n            value={currentValue}\n            onChange={e => setCurrentValue(e.target.value)}\n          />\n        </span>\n      )}\n    </VarBase>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarToggleProps extends IVarBaseInputProps<boolean> {}\n\n/**\n * Checkbox/toggle component. Accepts and returns a boolean (true/false).\n */\nexport const VarToggle: FC<IVarToggleProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  disabled,\n  className\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span>\n        <label className=\"react-var-ui-toggle\" title=\"Toggle\">\n          <input\n            type=\"checkbox\"\n            checked={currentValue || false}\n            onChange={e => setCurrentValue(e.target.checked)}\n          />\n          <span className=\"react-var-ui-toggle-helper\"></span>\n        </label>\n      </span>\n    </VarBase>\n  );\n};\n","import React, { FC, useCallback, useMemo, useRef } from 'react';\nimport { usePointerDragSimple } from 'react-use-pointer-drag';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport type IVarXYValue = [number, number];\n\nexport interface IVarXYProps extends IVarBaseInputProps<IVarXYValue> {\n  /**\n   * Minimum value.\n   */\n  min?: IVarXYValue;\n\n  /**\n   * Maximum value.\n   */\n  max?: IVarXYValue;\n\n  /**\n   * Step.\n   */\n  step?: IVarXYValue;\n}\n\nfunction roundValue(\n  value: IVarXYValue,\n  min: IVarXYValue,\n  max: IVarXYValue,\n  step: IVarXYValue\n): IVarXYValue {\n  const result: IVarXYValue = [0, 0];\n\n  if (!value || !Array.isArray(value) || value.length < 2) {\n    return result;\n  }\n\n  for (let i = 0; i < step.length; i++) {\n    const decimalPlaces = step[i].toString().split('.')[1]?.length || 0;\n    result[i] = Math.round(value[i] / step[i]) * step[i];\n    result[i] = Math.max(min[i], result[i]);\n    result[i] = Math.min(max[i], result[i]);\n\n    result[i] = parseFloat(result[i].toFixed(decimalPlaces));\n  }\n\n  return result;\n}\n\nfunction percentValue(\n  value: IVarXYValue,\n  min: IVarXYValue,\n  max: IVarXYValue\n): IVarXYValue {\n  if (!value) {\n    return [50, 50];\n  }\n\n  const result: IVarXYValue = [0, 0];\n\n  for (let i = 0; i < value.length; i++) {\n    result[i] = ((value[i] - min[i]) / (max[i] - min[i])) * 100;\n  }\n\n  return result;\n}\n\n/**\n * XY offset picker. Accepts and provides an array in form of [x, y].\n */\nexport const VarXY: FC<IVarXYProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  disabled,\n  className,\n  defaultValue = [0, 0],\n  min = [-1.0, -1.0],\n  max = [1.0, 1.0],\n  step = [0.01, 0.01]\n}) => {\n  const sliderRef = useRef<HTMLDivElement>(null);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const rounded = useMemo(() => roundValue(currentValue, min, max, step), [\n    currentValue,\n    min,\n    max,\n    step\n  ]);\n  const percent = useMemo(() => percentValue(rounded, min, max), [\n    rounded,\n    min,\n    max\n  ]);\n\n  const updatePosition = useCallback(\n    (x: number, y: number) => {\n      if (!sliderRef.current) {\n        return;\n      }\n\n      const div = sliderRef.current;\n      const rect = div.getBoundingClientRect();\n\n      const percentX = (x - rect.left) / rect.width;\n      const percentY = (y - rect.top) / rect.height;\n\n      const value = roundValue(\n        [\n          min[0] + (max[0] - min[0]) * percentX,\n          min[1] + (max[1] - min[1]) * percentY\n        ],\n        min,\n        max,\n        step\n      );\n      setCurrentValue(value);\n    },\n    [setCurrentValue, min, max, step]\n  );\n\n  const { events } = usePointerDragSimple(updatePosition);\n\n  const reset = useCallback(() => {\n    if (typeof defaultValue !== 'undefined') {\n      setCurrentValue(defaultValue);\n    }\n  }, [defaultValue, setCurrentValue]);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <span className=\"react-var-ui-xy-value\">\n        {rounded[0]}, {rounded[1]}\n      </span>\n      <div className=\"react-var-ui-xy\">\n        <div\n          className=\"react-var-ui-xy-space\"\n          ref={sliderRef}\n          onClick={e => updatePosition(e.clientX, e.clientY)}\n          onDoubleClick={reset}\n          {...events}\n        >\n          <div\n            className=\"react-var-ui-xy-control\"\n            style={{ top: percent[1] + '%', left: percent[0] + '%' }}\n          ></div>\n        </div>\n      </div>\n    </VarBase>\n  );\n};\n","import React, { FC } from 'react';\n\nexport const IconImageSelect: FC = () => {\n  return (\n    <svg\n      width=\"34\"\n      height=\"34\"\n      viewBox=\"0 0 34 34\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        opacity=\"0.4\"\n        d=\"M16.256 11V16.232H11V17.864H16.256V23.12H17.888V17.864H23.12V16.232H17.888V11H16.256Z\"\n        fill=\"#8D92A2\"\n      />\n      <path\n        d=\"M6 0.5H28C31.0376 0.5 33.5 2.96243 33.5 6V28C33.5 31.0376 31.0376 33.5 28 33.5H6C2.96243 33.5 0.5 31.0376 0.5 28V6C0.5 2.96243 2.96243 0.5 6 0.5Z\"\n        stroke=\"#515151\"\n      />\n    </svg>\n  );\n};\n","import React, { FC } from 'react';\n\nexport const IconDelete: FC = () => {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g opacity=\"0.4\">\n        <path\n          d=\"M14.5851 6.48999V15.51H5.56006V6.48999H14.5851ZM15.5851 4.48999H4.56006C4.29484 4.48999 4.04049 4.59535 3.85295 4.78288C3.66542 4.97042 3.56006 5.22477 3.56006 5.48999V16.51C3.56006 16.6413 3.58592 16.7714 3.63618 16.8927C3.68643 17.014 3.76009 17.1242 3.85295 17.2171C3.94581 17.31 4.05605 17.3836 4.17737 17.4339C4.2987 17.4841 4.42874 17.51 4.56006 17.51H15.5851C15.7164 17.51 15.8464 17.4841 15.9677 17.4339C16.0891 17.3836 16.1993 17.31 16.2922 17.2171C16.385 17.1242 16.4587 17.014 16.5089 16.8927C16.5592 16.7714 16.5851 16.6413 16.5851 16.51V5.48999C16.5851 5.22477 16.4797 4.97042 16.2922 4.78288C16.1046 4.59535 15.8503 4.48999 15.5851 4.48999V4.48999Z\"\n          fill=\"#F5F8FF\"\n        />\n        <path\n          d=\"M17.4899 4.50496H2.51494C2.24641 4.50496 1.98888 4.61163 1.799 4.80151C1.60912 4.99139 1.50244 5.24893 1.50244 5.51746C1.50244 5.78599 1.60912 6.04352 1.799 6.23341C1.98888 6.42329 2.24641 6.52996 2.51494 6.52996H17.4899C17.7585 6.52996 18.016 6.42329 18.2059 6.23341C18.3958 6.04352 18.5024 5.78599 18.5024 5.51746C18.5024 5.24893 18.3958 4.99139 18.2059 4.80151C18.016 4.61163 17.7585 4.50496 17.4899 4.50496V4.50496ZM12.5149 1.52496H7.58494C7.33518 1.54274 7.10144 1.65451 6.93079 1.83774C6.76013 2.02098 6.66525 2.26207 6.66525 2.51246C6.66525 2.76285 6.76013 3.00395 6.93079 3.18718C7.10144 3.37041 7.33518 3.48218 7.58494 3.49996H12.5099C12.6455 3.50961 12.7817 3.49124 12.9098 3.44599C13.038 3.40074 13.1555 3.32957 13.255 3.23693C13.3544 3.14429 13.4338 3.03215 13.488 2.90751C13.5423 2.78287 13.5703 2.64839 13.5703 2.51246C13.5703 2.37653 13.5423 2.24205 13.488 2.11741C13.4338 1.99277 13.3544 1.88064 13.255 1.78799C13.1555 1.69535 13.038 1.62419 12.9098 1.57893C12.7817 1.53368 12.6455 1.51531 12.5099 1.52496H12.5149Z\"\n          fill=\"#F5F8FF\"\n        />\n        <path\n          d=\"M8.56006 13.5C8.29525 13.4987 8.04166 13.3929 7.8544 13.2057C7.66715 13.0184 7.56137 12.7648 7.56006 12.5V9.5C7.56137 9.23519 7.66715 8.9816 7.8544 8.79435C8.04166 8.60709 8.29525 8.50131 8.56006 8.5C8.82487 8.50131 9.07846 8.60709 9.26571 8.79435C9.45297 8.9816 9.55874 9.23519 9.56006 9.5V12.5C9.55874 12.7648 9.45297 13.0184 9.26571 13.2057C9.07846 13.3929 8.82487 13.4987 8.56006 13.5V13.5ZM11.5601 13.5C11.2952 13.4987 11.0417 13.3929 10.8544 13.2057C10.6672 13.0184 10.5614 12.7648 10.5601 12.5V9.5C10.5614 9.23519 10.6672 8.9816 10.8544 8.79435C11.0417 8.60709 11.2952 8.50131 11.5601 8.5C11.8249 8.50131 12.0785 8.60709 12.2657 8.79435C12.453 8.9816 12.5587 9.23519 12.5601 9.5V12.5C12.5587 12.7648 12.453 13.0184 12.2657 13.2057C12.0785 13.3929 11.8249 13.4987 11.5601 13.5V13.5Z\"\n          fill=\"#F5F8FF\"\n        />\n      </g>\n    </svg>\n  );\n};\n","import React, { FC, useCallback, useRef } from 'react';\nimport { IconImageSelect } from './icons/IconImageSelect';\nimport { IconDelete } from './icons/IconDelete';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarImageProps\n  extends IVarBaseInputProps<{\n    src: HTMLImageElement | string | null;\n    type?: string;\n    extension?: string;\n  }> {\n  path?: string;\n  value?: {\n    src: HTMLImageElement | string | null;\n    type?: string;\n    extension?: string;\n  };\n}\n\n/**\n * A simple component that displays a string or a numeric value.\n */\nexport const VarImage: FC<IVarImageProps> = ({\n  label,\n  disabled,\n  path,\n  value,\n  onChange,\n  className,\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const deleteAction = useCallback(() => {\n    setCurrentValue({ src: null });\n    if (inputRef && inputRef.current) {\n      inputRef.current.value = '';\n    }\n  }, [setCurrentValue, inputRef]);\n\n  const onFileChange = useCallback(\n    event => {\n      const files = (event?.target as HTMLInputElement).files;\n      if (!files || !files.length) return;\n      const file = files[0];\n      const url = URL.createObjectURL(file);\n      const extension = file.name.split('.')?.pop()?.toLowerCase();\n      setCurrentValue({ src: url, type: file.type, extension: extension });\n    },\n    [setCurrentValue]\n  );\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-image\">\n        <div\n          className=\"react-var-ui-image-wrapper\"\n          style={\n            currentValue == null || currentValue.src == null\n              ? { border: 'none' }\n              : {}\n          }\n        >\n          {currentValue == null || currentValue.src == null ? (\n            <IconImageSelect></IconImageSelect>\n          ) : (\n            <img\n              className=\"react-var-ui-image-wrapper-preview\"\n              src={\n                currentValue.src instanceof HTMLImageElement\n                  ? currentValue.src.src\n                  : currentValue.src\n              }\n              alt=\"preview\"\n            />\n          )}\n          <input ref={inputRef} type=\"file\" id=\"\" onChange={onFileChange} />\n        </div>\n        {currentValue == null || currentValue.src == null ? null : (\n          <div className=\"react-var-ui-image-delete\" onClick={deleteAction}>\n            <IconDelete></IconDelete>\n          </div>\n        )}\n      </div>\n    </VarBase>\n  );\n};\n","import React, {\n  FC,\n  useMemo,\n  useCallback,\n  useState,\n  useRef,\n  useEffect,\n} from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { roundValue } from './common/roundValue';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport type IVarVector2Value = [number, number];\nexport interface IVarVector2Props extends IVarBaseInputProps<IVarVector2Value> {\n  /**\n   * Minimum value.\n   */\n  min?: IVarVector2Value;\n\n  /**\n   * Maximum value.\n   */\n  max?: IVarVector2Value;\n\n  /**\n   * Step.\n   */\n  step?: IVarVector2Value;\n\n  /**\n   * Should the end result be rounded to an integer value.\n   */\n  integer?: boolean;\n}\n\n/**\n * Integer/float number component. Accepts and provides numbers.\n */\nexport const VarVector2: FC<IVarVector2Props> = ({\n  label,\n  path,\n  value,\n  onChange,\n  min,\n  max,\n  step = [1, 1],\n  integer,\n  disabled,\n  className,\n}) => {\n  const inputRefX = useRef<HTMLInputElement>(null);\n  const inputRefY = useRef<HTMLInputElement>(null);\n  const [display, setDisplay] = useState([0, 0]);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const stateRef = useRef(currentValue);\n  const updateFlagRef = useRef<Boolean>(true);\n\n\n  const handleInputChange = useCallback(\n    (e, index) => {\n      const newValue = [...currentValue] as IVarVector2Value;\n      newValue[index] = roundValue(\n        parseFloat(e.target.value),\n        min ? min[index] : min,\n        max ? max[index] : max,\n        step[index],\n        !!integer\n      );\n      updateFlagRef.current = false;\n      stateRef.current = newValue;\n      setCurrentValue(newValue);\n    },\n    [setCurrentValue, currentValue, stateRef]\n  );\n\n  const handleInputBlur = useCallback(\n    (e, index) => {\n      const newValue = JSON.parse(\n        JSON.stringify(stateRef.current)\n      ) as IVarVector2Value;\n      newValue[index] = roundValue(\n        parseFloat(e.target.value),\n        min ? min[index] : min,\n        max ? max[index] : max,\n        step[index],\n        !!integer\n      );\n      updateFlagRef.current = true;\n      stateRef.current = newValue;\n      setCurrentValue(newValue);\n      setDisplay(newValue);\n    },\n    [setCurrentValue, setDisplay, currentValue]\n  );\n\n  const handleInputBlurX = useCallback(\n    e => {\n      handleInputBlur(e, 0);\n    },\n    [handleInputBlur]\n  );\n\n  const handleInputBlurY = useCallback(\n    e => {\n      handleInputBlur(e, 1);\n    },\n    [handleInputBlur]\n  );\n\n\n  useEffect(() => {\n    inputRefX.current?.addEventListener('blur', handleInputBlurX);\n    inputRefY.current?.addEventListener('blur', handleInputBlurY);\n    return () => {\n      inputRefX.current?.removeEventListener('blur', handleInputBlurX);\n      inputRefY.current?.removeEventListener('blur', handleInputBlurY);\n    };\n  }, [currentValue]);\n\n  useEffect(() => {\n    if (!updateFlagRef.current) {\n      return;\n    }\n    if (inputRefX.current) {\n      inputRefX.current.value = roundedX.toString();\n    }\n    if (inputRefY.current) {\n      inputRefY.current.value = roundedY.toString();\n    }\n  }, [currentValue, display]);\n\n  const roundedX = useMemo(\n    () =>\n      roundValue(\n        currentValue[0],\n        min ? min[0] : min,\n        max ? max[0] : max,\n        step[0],\n        !!integer\n      ),\n    [currentValue, min, max, step, integer]\n  );\n\n  const roundedY = useMemo(\n    () =>\n      roundValue(\n        currentValue[1],\n        min ? min[1] : min,\n        max ? max[1] : max,\n        step[1],\n        !!integer\n      ),\n    [currentValue, min, max, step, integer]\n  );\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-vector\">\n        <div className=\"react-var-ui-vector-wrapper\">\n          <span>X</span>\n          <input\n            className=\"react-var-ui-vector-input\"\n            type=\"number\"\n            ref={inputRefX}\n            min={min ? min[0] : min}\n            max={max ? max[0] : max}\n            step={step[0]}\n            onChange={e => handleInputChange(e, 0)}\n          />\n        </div>\n\n        <div className=\"react-var-ui-vector-wrapper\">\n          <span>Y</span>\n          <input\n            className=\"react-var-ui-vector-input\"\n            type=\"number\"\n            ref={inputRefY}\n            min={min ? min[1] : min}\n            max={max ? max[1] : max}\n            step={step[1]}\n            onChange={e => handleInputChange(e, 1)}\n          />\n        </div>\n      </div>\n    </VarBase>\n  );\n};\n","import React, {\n  FC,\n  useMemo,\n  useCallback,\n  useState,\n  useRef,\n  useEffect,\n} from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { roundValue } from './common/roundValue';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport type IVarVector3Value = [number, number, number];\nexport interface IVarVector3Props extends IVarBaseInputProps<IVarVector3Value> {\n  /**\n   * Minimum value.\n   */\n  min?: IVarVector3Value;\n\n  /**\n   * Maximum value.\n   */\n  max?: IVarVector3Value;\n\n  /**\n   * Step.\n   */\n  step?: IVarVector3Value;\n\n  /**\n   * Should the end result be rounded to an integer value.\n   */\n  integer?: boolean;\n}\n\n/**\n * Integer/float number component. Accepts and provides numbers.\n */\nexport const VarVector3: FC<IVarVector3Props> = ({\n  label,\n  path,\n  value,\n  onChange,\n  min,\n  max,\n  step = [1, 1, 1],\n  integer,\n  disabled,\n  className,\n}) => {\n  const inputRefX = useRef<HTMLInputElement>(null);\n  const inputRefY = useRef<HTMLInputElement>(null);\n  const inputRefZ = useRef<HTMLInputElement>(null);\n  const [display, setDisplay] = useState([0, 0, 0]);\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n  const stateRef = useRef(currentValue);\n  const updateFlagRef = useRef<Boolean>(true);\n\n  const handleInputChange = useCallback(\n    (e, index) => {\n      updateFlagRef.current = false;\n      const newValue = [...currentValue] as IVarVector3Value;\n      newValue[index] = roundValue(\n        parseFloat(e.target.value),\n        min ? min[index] : min,\n        max ? max[index] : max,\n        step[index],\n        !!integer\n      );\n      stateRef.current = newValue;\n      setCurrentValue(newValue);\n    },\n    [setCurrentValue, currentValue, stateRef]\n  );\n\n  const handleInputBlur = useCallback(\n    (e, index) => {\n      const newValue = JSON.parse(\n        JSON.stringify(stateRef.current)\n      ) as IVarVector3Value;\n      newValue[index] = roundValue(\n        parseFloat(e.target.value),\n        min ? min[index] : min,\n        max ? max[index] : max,\n        step[index],\n        !!integer\n      );\n      updateFlagRef.current = true;\n      stateRef.current = newValue;\n      setCurrentValue(newValue);\n      setDisplay(newValue);\n    },\n    [setCurrentValue, setDisplay, currentValue]\n  );\n\n  const handleInputBlurX = useCallback(\n    e => {\n      handleInputBlur(e, 0);\n    },\n    [handleInputBlur]\n  );\n\n  const handleInputBlurY = useCallback(\n    e => {\n      handleInputBlur(e, 1);\n    },\n    [handleInputBlur]\n  );\n\n  const handleInputBlurZ = useCallback(\n    e => {\n      handleInputBlur(e, 2);\n    },\n    [handleInputBlur]\n  );\n\n  useEffect(() => {\n    inputRefX.current?.addEventListener('blur', handleInputBlurX);\n    inputRefY.current?.addEventListener('blur', handleInputBlurY);\n    inputRefZ.current?.addEventListener('blur', handleInputBlurZ);\n    return () => {\n      inputRefX.current?.removeEventListener('blur', handleInputBlurX);\n      inputRefY.current?.removeEventListener('blur', handleInputBlurY);\n      inputRefZ.current?.removeEventListener('blur', handleInputBlurZ);\n    };\n  }, [currentValue]);\n\n  useEffect(() => {\n    if (!updateFlagRef.current) {\n      return;\n    }\n    if (inputRefX.current) {\n      inputRefX.current.value = roundedX.toString();\n    }\n    if (inputRefY.current) {\n      inputRefY.current.value = roundedY.toString();\n    }\n    if (inputRefZ.current) {\n      inputRefZ.current.value = roundedZ.toString();\n    }\n  }, [currentValue, display]);\n\n  const roundedX = useMemo(\n    () =>\n      roundValue(\n        currentValue[0],\n        min ? min[0] : min,\n        max ? max[0] : max,\n        step[0],\n        !!integer\n      ),\n    [currentValue, min, max, step, integer]\n  );\n\n  const roundedY = useMemo(\n    () =>\n      roundValue(\n        currentValue[1],\n        min ? min[1] : min,\n        max ? max[1] : max,\n        step[1],\n        !!integer\n      ),\n    [currentValue, min, max, step, integer]\n  );\n\n  const roundedZ = useMemo(\n    () =>\n      roundValue(\n        currentValue[2],\n        min ? min[2] : min,\n        max ? max[2] : max,\n        step[2],\n        !!integer\n      ),\n    [currentValue, min, max, step, integer]\n  );\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-vector\">\n        <div className=\"react-var-ui-vector-wrapper\">\n          <span>X</span>\n          <input\n            className=\"react-var-ui-vector-input\"\n            type=\"number\"\n            ref={inputRefX}\n            min={min ? min[0] : min}\n            max={max ? max[0] : max}\n            step={step[0]}\n            onChange={e => handleInputChange(e, 0)}\n          />\n        </div>\n\n        <div className=\"react-var-ui-vector-wrapper\">\n          <span>Y</span>\n          <input\n            className=\"react-var-ui-vector-input\"\n            type=\"number\"\n            ref={inputRefY}\n            min={min ? min[1] : min}\n            max={max ? max[1] : max}\n            step={step[1]}\n            onChange={e => handleInputChange(e, 1)}\n          />\n        </div>\n\n        <div className=\"react-var-ui-vector-wrapper\">\n          <span>Z</span>\n          <input\n            className=\"react-var-ui-vector-input\"\n            type=\"number\"\n            ref={inputRefZ}\n            min={min ? min[2] : min}\n            max={max ? max[2] : max}\n            step={step[2]}\n            onChange={e => handleInputChange(e, 2)}\n          />\n        </div>\n      </div>\n    </VarBase>\n  );\n};\n","import React, { FC } from 'react';\n\nexport const IconAdd: FC = () => {\n  return (\n    <svg\n      width=\"22\"\n      height=\"22\"\n      viewBox=\"0 0 22 22\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect x=\"0.5\" y=\"0.5\" width=\"21\" height=\"21\" rx=\"3.5\" stroke=\"#515151\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11.5455 10.4545V5H9.90909V10.4545H5V12.0909H9.90909V17H11.5455V12.0909H17V10.4545H11.5455Z\"\n        fill=\"#515151\"\n      />\n    </svg>\n  );\n};\n","import React, { FC, useCallback, useState, useEffect } from 'react';\n\nimport { IVarBaseProps, VarBase } from './VarBase';\nimport { IconAdd } from './icons/IconAdd';\n\nexport interface IVarAddProps extends IVarBaseProps {\n  /**\n   * Called when the add button is clicked.\n   */\n  didClick?: () => void;\n}\n\n/**\n * Button component. Only provides a onClick property.\n */\nexport const VarAdd: FC<IVarAddProps> = ({\n  label,\n  didClick,\n  disabled,\n  className,\n  children,\n}) => {\n  const [show, setShow] = useState(false);\n\n  const handleCloseClick = useCallback(\n    (_: MouseEvent) => {\n      // const popup = (event.target as Element)?.closest(\n      //   '.react-var-ui-add-popover'\n      // );\n      // const has_picker =\n      //   document.getElementsByClassName('react-var-ui-add-popover').length != 0;\n      // if (has_picker && show && popup == null) {\n        setShow(false);\n      // }\n    },\n    [show, setShow]\n  );\n\n  useEffect(() => {\n    if (show) {\n      window.addEventListener('click', handleCloseClick);\n    } else {\n      window.removeEventListener('click', handleCloseClick);\n    }\n    return () => window.removeEventListener('click', handleCloseClick);\n  }, [show]);\n\n  const toggle = useCallback(() => {\n    setShow(show => !show);\n  }, [setShow]);\n\n  return (\n    <VarBase label={label} disabled={disabled} className={className}>\n      <div className=\"react-var-ui-add\">\n        <div className=\"react-var-ui-add-wrapper\">\n          <div\n            onClick={() => {\n              toggle();\n              didClick?.();\n            }}\n          >\n            <IconAdd></IconAdd>\n          </div>\n          {show ? (\n            <div className=\"react-var-ui-add-popover\">{children}</div>\n          ) : null}\n        </div>\n      </div>\n    </VarBase>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { IVarBaseProps, VarBase } from './VarBase';\nimport { IconDelete } from './icons/IconDelete';\n\nexport interface IVarGroupProps extends IVarBaseProps {\n  /**\n   * \n   */\n  onDelete?: () => void;\n}\n\n/**\n * Category component for grouping inputs.\n */\nexport const VarGroup: FC<IVarGroupProps> = ({\n  label,\n  disabled,\n  className,\n  children,\n  onDelete,\n}) => {\n  return (\n    <div>\n      <VarBase label={label} disabled={disabled} className={className}>\n        <div className=\"react-var-ui-group-wrapper\">\n          <div className=\"react-var-ui-group-wrapper-icon\">\n            <div\n              onClick={() => {\n                onDelete?.();\n              }}\n            >\n              <IconDelete></IconDelete>\n            </div>\n          </div>\n        </div>\n      </VarBase>\n      {!!children && <div className=\"react-var-ui-group\">{children}</div>}\n    </div>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { useVarUIValue } from './common/VarUIContext';\nimport { IVarBaseInputProps, VarBase } from './VarBase';\n\nexport interface IVarToggleGroupProps extends IVarBaseInputProps<boolean> {\n  /**\n   * children\n   */\n  toggleHidden?: boolean;\n}\n\n/**\n * Checkbox/toggle component. Accepts and returns a boolean (true/false).\n */\nexport const VarToggleGroup: FC<IVarToggleGroupProps> = ({\n  label,\n  path,\n  value,\n  onChange,\n  disabled,\n  className,\n  children,\n  toggleHidden,\n}) => {\n  const [currentValue, setCurrentValue] = useVarUIValue(path, value, onChange);\n\n  return (\n    <div>\n      <VarBase label={label} disabled={disabled} className={className}>\n        <span>\n          <label className=\"react-var-ui-toggle\" title=\"Toggle\">\n            <input\n              type=\"checkbox\"\n              checked={currentValue || false}\n              onChange={e => setCurrentValue(e.target.checked)}\n            />\n            <span className=\"react-var-ui-toggle-helper\"></span>\n          </label>\n        </span>\n      </VarBase>\n      {!!children && !(toggleHidden && (!currentValue || false)) && (\n        <div className=\"react-var-ui-group\">{children}</div>\n      )}\n    </div>\n  );\n};\n","import React, { FC } from 'react';\n\n/**\n * Group item component inside group.\n */\nexport const VarGroupItem: FC = ({\n  children,\n}) => {\n  return (\n    <div className=\"react-var-ui-group-item\">\n      {children}\n    </div>\n  );\n};\n","import React, { FC, ReactNode } from 'react';\n\nexport interface IVarCategoryProps {\n  /**\n   * Category label.\n   */\n  label: ReactNode;\n\n  /**\n   * Additional class names on the wrapping div element.\n   */\n  className?: string;\n\n  /**\n   * \n   */\n  showDash?: boolean;\n}\n\n/**\n * Category component for grouping inputs.\n */\nexport const VarCategory: FC<IVarCategoryProps> = ({\n  label,\n  className,\n  showDash,\n  children\n}) => {\n  return (\n    <div className={'react-var-ui-category ' + (className ? className : '')}>\n      <div className={'react-var-ui-category-title ' + (showDash ? 'react-var-ui-category-title-dash' : '' )}>{label}</div>\n      {!!children && <div>{children}</div>}\n    </div>\n  );\n};\n"],"names":["VarUIContext","createContext","undefined","useVarUIValue","path","fallbackValue","onChange","context","useContext","value","useMemo","getValue","setValue","useCallback","VarUI","values","updateValues","className","children","result","set","cloneDeep","contextValue","React","Provider","VarBase","label","disabled","PI2","Math","PI","wrap","angle","VarAngle","defaultValue","controlRef","useRef","currentValue","setCurrentValue","degrees","round","updatePosition","x","y","current","div","rect","getBoundingClientRect","centerX","left","width","centerY","top","height","atan2","usePointerDragSimple","events","useEffect","addEventListener","e","preventDefault","ref","style","transform","onDoubleClick","onWheel","deltaY","title","VarButton","onClick","buttonLabel","VarColor","alpha","useState","show","setShow","handleCloseClick","event","popup","target","closest","has_picker","document","getElementsByClassName","length","window","removeEventListener","toggle","tinycolor","toHex8String","toHexString","background","r","g","b","a","SketchPicker","color","rgb","disableAlpha","VarDisplay","roundValue","min","max","step","integer","isFinite","decimalPlaces","toString","split","parseFloat","toFixed","IconDown","xmlns","fill","viewBox","fillRule","d","IconUp","VarNumber","showButtons","inputRef","display","setDisplay","updateFlagRef","handleInputBlur","handleInputChange","increaseValue","decreaseValue","type","VarSelect","options","serializedCurrentValue","JSON","stringify","parse","map","option","serializedValue","key","VarSlider","showInput","sliderRef","newValue","rounded","percent","clientX","VarString","maxLength","multiline","autoexpand","autoexpandOnInput","textarea","currentTarget","scrollHeight","textareaStyle","overflow","resize","onInput","VarToggle","checked","Array","isArray","i","percentValue","VarXY","percentX","percentY","reset","clientY","IconImageSelect","opacity","stroke","IconDelete","VarImage","deleteAction","src","onFileChange","files","file","url","URL","createObjectURL","extension","name","pop","toLowerCase","border","HTMLImageElement","alt","id","VarVector2","inputRefX","inputRefY","stateRef","index","handleInputBlurX","handleInputBlurY","roundedX","roundedY","VarVector3","inputRefZ","handleInputBlurZ","roundedZ","IconAdd","rx","clipRule","VarAdd","didClick","_","VarGroup","onDelete","VarToggleGroup","toggleHidden","VarGroupItem","VarCategory","showDash"],"mappings":"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"}